<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template.xhtml">
                
	<ui:define name="header">
		Kategorien und Orte
	</ui:define>

    <p:fieldset legend="Kategorie oder Ort anlegen" style="margin-bottom:20px">
		<p:inputText label="Kategorie" placeholder="Kategorie oder Ort" value="${categoryBean.newCategory.name}"/>
		<p:commandButton value="Speichern" actionListener="${categoryBean.save}" update="categoryList" />
	</p:fieldset>

    <!--  
	<p:dataTable id="categoryList" value="#{categoryBean.categoryList}" var="category">
		<p:column>
			<f:facet name="header">
				<h:outputText value="Kategorien und Orte"></h:outputText>
			</f:facet>
			<h:outputText value="#{category.name}"></h:outputText>
		</p:column>
    </p:dataTable>
    -->
    
    <p:dataTable id="categoryList" value="#{categoryBean.categoryList}" var="category">
		<p:column>
			<f:facet name="header">
				<h:outputText value="ID"></h:outputText>
			</f:facet>
			<h:outputText value="#{category.id}"></h:outputText>
		</p:column>
		<p:column>
			<f:facet name="header">
				<h:outputText value="Kategorien und Orte"></h:outputText>
			</f:facet>
			<h:outputText value="#{category.name}"></h:outputText>
		</p:column>
		<p:column>
			<p:inputText label="edited" placeholder="Neue Bezeichnung" value="${categoryBean.newCategoryName}"/>
			<p:commandButton value="Speichern" actionListener="${categoryBean.updateCategory(category, edited)}" update="categoryList"/>
		</p:column>
		<p:column>
	        <f:facet name="header">
	            <h:outputText value="Aktionen" />
	        </f:facet>
	        <p:commandButton value="LÃ¶schen" actionListener="#{categoryBean.deleteCategory(category)}" update="categoryList" />
    	</p:column>
    </p:dataTable>
    
</ui:composition>